














<!-- <!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
	<link rel="stylesheet" href="css/rester.css" />
	<link rel="stylesheet" href="bootstrap/css/bootstrap.css" />
	<link rel="stylesheet" href="css/index.css" />
	<script src="js/vue.js"></script>
	<script src="bootstrap/js/jquery-2.1.4.min.js"></script>
</head>
<body>
	<!--<p class="doger_my_map">需要手机GPS</p>-->
	<button class="ssssss">点击</button>
	<p class="doger_my_map">??</p>
	<div id="app">
		<div class="nav_left" v-bind:class="[errorClass ,show ? activeClass : '']">
			<span class="glyphicon glyphicon-th-list" v-on:click="show = !show"></span>
			
		</div>
		
	</div>
</body>
<script src="js/index.js"></script>
<script>
//		function getLocation(){   
//		    if (navigator.geolocation){   
//		        navigator.geolocation.getCurrentPosition(showPosition,showError);   
//		    }else{   
//		        alert("浏览器不支持地理定位。");   
//		    }   
//		}
//		function showPosition(position){
////			$(".doger-my-map").html("纬度:"+position.coords.latitude +'，经度:'+ position.coords.longitude);
//			var latlon = position.coords.latitude+','+position.coords.longitude;
//			//baidu
//			var url = "http://api.map.baidu.com/geocoder/v2/?ak=C93b5178d7a8ebdb830b9b557abce78b&callback=renderReverse&location="+latlon+"&output=json&pois=0";
//			$.ajax({ 
//				type: "GET", 
//				dataType: "jsonp", 
//				url: url,
//				beforeSend: function(){
////					$(".doger_my_map").html('正在定位...');
//				},
//				success: function (json) { 
//					if(json.status==0){
//						$(".doger_my_map").html(json.result.formatted_address);
//					}
//				},
//				error: function (XMLHttpRequest, textStatus, errorThrown) { 
//					$(".doger_my_map").html(latlon+"地址位置获取失败"); 
//				}
//			});
//		}
//
//		function showError(error){
//			switch(error.code) {
//				case error.PERMISSION_DENIED:
//					alert("定位失败,用户拒绝请求地理定位");
//					break;
//				case error.POSITION_UNAVAILABLE:
//					alert("定位失败,位置信息是不可用");
//					break;
//				case error.TIMEOUT:
//					alert("定位失败,请求获取用户位置超时");
//					break;
//				case error.UNKNOWN_ERROR:
//					alert("定位失败,定位系统失效");
//					break;
//		    }
//		}

		$('.ssssss').bind('click',function(){
			function Location() {};
		})

	
 
    Location.prototype.getLocation = function (callback) {
        var options = {
            enableHighAccuracy: true,
            maximumAge: 1000
        };
        this.callback = Object.prototype.toString.call(callback) == "[object Function]" ?
            callback :
        function (address) {
            alert(address.province + address.city);
            console.log("getocation(callbackFunction) 可获得定位信息对象");
        };
        var self = this;
        if (navigator.geolocation) {
            //浏览器支持geolocation
            navigator.geolocation.getCurrentPosition(function (position) {
                //经度
                var longitude = position.coords.longitude;
                //纬度
                var latitude = position.coords.latitude;
                self.loadMapApi(longitude, latitude);
            }, self.onError, options);
        } else {
            //浏览器不支持geolocation
        }
    };
 
    Location.prototype.loadMapApi = function (longitude, latitude) {
        var self = this;
        var oHead = document.getElementsByTagName('HEAD').item(0);
        var oScript = document.createElement("script");
        oScript.type = "text/javascript";
        oScript.src = "http://api.map.baidu.com/getscript?v=2.0&ak=A396783ee700cfdb9ba1df281ce36862&services=&t=20140930184510";
        oHead.appendChild(oScript);
        oScript.onload = function (date) {
            var point = new BMap.Point(longitude, latitude);
            var gc = new BMap.Geocoder();
            gc.getLocation(point, function (rs) {
                var addComp = rs.addressComponents;
                self.callback(addComp);
            });
        }
    };
 
    Location.prototype.onError = function (error) {
        switch (error.code) {
        case 1:
            alert("位置服务被拒绝");
            break;
        case 2:
            alert("暂时获取不到位置信息");
            break;
        case 3:
            alert("获取信息超时");
            break;
        case 4:
            alert("未知错误");
            break;
        }
    };
 
    //调用
    var local = new Location();
    local.getLocation(function (res) {
        //此处就是返回的地理位置信息
        console.log(res);
        //JSON.stringify(res)，把返回的对象转为字符串了，自己根据需求截取下就好
        var resstr = JSON.stringify(res);
        alert(res,resstr);
    });
	</script>
</html>
 -->
